<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
  <meta charset="UTF-8">
  <title>{% if lang == 'fr' %}Journal{% elif lang == 'sw' %}Jarida{% else %}Journal{% endif %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
  <div class="fixed-nav">
  <a href="{{ url_for('home', lang=lang) }}">ğŸ  {% if lang == 'fr' %}Accueil{% elif lang == 'sw' %}Nyumbani{% else %}Home{% endif %}</a>
  <a href="{{ url_for('journal', lang=lang) }}">ğŸ“ {% if lang == 'fr' %}Journal{% elif lang == 'sw' %}Jarida{% else %}Journal{% endif %}</a>
  <a href="{{ url_for('entries', lang=lang) }}">ğŸ“– {% if lang == 'fr' %}EntrÃ©es{% elif lang == 'sw' %}Maandishi{% else %}Entries{% endif %}</a>
  <a href="{{ url_for('devotional', lang=lang) }}">ğŸ™ {% if lang == 'fr' %}MÃ©ditation{% elif lang == 'sw' %}Mafundisho{% else %}Devotional{% endif %}</a>
  <a href="{{ url_for('search', lang=lang) }}">ğŸ” {% if lang == 'fr' %}Recherche{% elif lang == 'sw' %}Tafuta{% else %}Search{% endif %}</a>
  <a href="{{ url_for('logout') }}">ğŸšª {% if lang == 'fr' %}DÃ©connexion{% elif lang == 'sw' %}Toka{% else %}Logout{% endif %}</a>
<!-- ğŸŒ™ Dark Mode Toggle -->
  <button onclick="toggleDarkMode()" style="margin-left: 20px; padding: 0.4rem 0.8rem; border-radius: 8px;">
    ğŸŒ“ Toggle Theme
  </button>  
</div>
<div class="container">

<!-- Language Selector -->
<form method="get" action="{{ url_for('journal') }}" style="margin-bottom: 15px;">
  <label for="lang">ğŸŒ Language:</label>
  <select name="lang" id="lang" onchange="this.form.submit()">
    <option value="en" {% if lang == 'en' %}selected{% endif %}>English</option>
    <option value="fr" {% if lang == 'fr' %}selected{% endif %}>FranÃ§ais</option>
    <option value="sw" {% if lang == 'sw' %}selected{% endif %}>Kiswahili</option>
    <option value="ar" {% if lang == 'ar' %}selected{% endif %}>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    <option value="zh" {% if lang == 'zh' %}selected{% endif %}>ä¸­æ–‡</option>
    <option value="hi" {% if lang == 'hi' %}selected{% endif %}>à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
  </select>
</form>

<!-- Journal Entry Form -->
<form method="post" action="{{ url_for('save_journal') }}">
  <input type="hidden" name="lang" value="{{ lang }}">
  <label for="entry">ğŸ“˜ {% if lang == 'fr' %}Ã‰crivez votre journal :{% elif lang == 'sw' %}Andika jarida lako:{% else %}Write your journal entry:{% endif %}</label><br>
  <textarea name="entry" rows="10" cols="60" placeholder="{% if lang == 'fr' %}Ã‰crivez ici...{% elif lang == 'sw' %}Andika hapa...{% else %}Write here...{% endif %}">{{ entry }}</textarea><br><br>
  <button type="submit">ğŸ’¾ {% if lang == 'fr' %}Enregistrer{% elif lang == 'sw' %}Hifadhi{% else %}Save{% endif %}</button>
</form>

<!-- Flash Messages -->
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul style="color: green;">
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<!-- Navigation -->
<nav style="margin-top: 20px;">
  <a href="{{ url_for('home', lang=lang) }}">ğŸ  {% if lang == 'fr' %}Accueil{% elif lang == 'sw' %}Nyumbani{% else %}Home{% endif %}</a> |
  <a href="{{ url_for('entries', lang=lang) }}">ğŸ“š {% if lang == 'fr' %}EntrÃ©es{% elif lang == 'sw' %}Maandishi{% else %}Entries{% endif %}</a>
</nav>
<script>
  if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark-mode");
  }

  function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");
    localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
  }
</script>
</body>
</html>
