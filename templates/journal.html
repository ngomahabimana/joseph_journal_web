<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Journal | Joseph Ngoma</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&amp;display=swap" rel="stylesheet"/>
<link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet"/>
</head>
<body>
<form method="get" action="/journal" style="margin-bottom: 15px;">
  <label for="lang">🌐 Language:</label>
  <select name="lang" id="lang" onchange="this.form.submit()">
    <option value="en" {{ 'selected' if lang == 'en' else '' }}>English</option>
    <option value="fr" {{ 'selected' if lang == 'fr' else '' }}>Français</option>
    <option value="sw" {{ 'selected' if lang == 'sw' else '' }}>Kiswahili</option>
    <option value="ar" {{ 'selected' if lang == 'ar' else '' }}>العربية</option>
    <option value="zh" {{ 'selected' if lang == 'zh' else '' }}>中文</option>
    <option value="hi" {{ 'selected' if lang == 'hi' else '' }}>हिन्दी</option>
  </select>
</form>
<form method="post" action="{{ url_for('save_journal') }}">
  <input type="hidden" name="lang" value="{{ lang }}">

  <label for="entry">📘 Write your journal entry:</label><br>
  <textarea name="entry" rows="10" cols="60" placeholder="Write here...">{{ entry }}</textarea><br><br>

  <button type="submit">💾 Save Entry</button>
</form>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul style="color: green;">
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<header>
<h1>{% if lang == 'fr' %}Journal Quotidien{% elif lang == 'sw' %}Jarida la Kila Siku{% else %}Daily Journal{% endif %}</h1>
<p>{% if lang == 'fr' %}Que vos mots soient votre offrande{% elif lang == 'sw' %}Maneno yako na yawe sadaka yako{% else %}Let your words be your offering{% endif %}</p>
</header>

<div class="container">
<div class="verse-box">
<strong>{% if lang == 'fr' %}Verset du jour :{% elif lang == 'sw' %}Aya ya siku:{% else %}Verse of the Day:{% endif %}</strong>
<p>{{ verse }}</p>
</div>

<div class="devotional-box">
<strong>{% if lang == 'fr' %}Pensée du jour :{% elif lang == 'sw' %}Mafundisho ya leo:{% else %}Devotional Thought:{% endif %}</strong>
<p>{{ devotional }}</p>
</div>

<h2>{% if lang == 'fr' %}📖 Entrées précédentes{% elif lang == 'sw' %}📖 Maandishi yaliyopita{% else %}📖 Previous Entries{% endif %}</h2>
{% for entry in entries %}
  <div class="entry">
    <pre>{{ entry }}</pre>
  </div>
{% endfor %}

<form action="{{ url_for('clear') }}" method="POST" style="margin-top: 20px;">
  <button type="submit">{% if lang == 'fr' %}🗑️ Effacer l'entrée d'aujourd'hui{% elif lang == 'sw' %}🗑️ Futa maandishi ya leo{% else %}🗑️ Clear Today's Entry{% endif %}</button>
</form>

<form action="{{ url_for('export_pdf') }}" method="GET">
  <button type="submit">{% if lang == 'fr' %}⬇️ Exporter toutes les entrées{% elif lang == 'sw' %}⬇️ Pakua maandishi yote{% else %}⬇️ Export All Entries{% endif %}</button>
</form>
</div>

<footer style="margin-top: 40px; text-align: center;">
<p>© 2025 Joseph Ngoma. All rights reserved.</p>
</footer>

</body>
</html>
